<!doctype html>
<html lang="en">

<head>
  <title>qgis-js</title>
  <meta charset="UTF-8" />
  <link rel="icon" href="qgis-icon128.svg" />
  <link href="src/demo.css" rel="stylesheet" type="text/css" />
  <link href="node_modules/jsoneditor/dist/jsoneditor.min.css" rel="stylesheet" type="text/css" />

  <script src="node_modules/jsoneditor/dist/jsoneditor.min.js"></script>
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script>
    if (window["SharedArrayBuffer"] === undefined) {
      console.log("Installing COOP/COEP service worker");

      window.coi = {
        shouldRegister: () => true,
        shouldDeregister: () => true,
        coepCredentialless: () => !(window.chrome || window.netscape),
        quiet: true,
      };

      const coiServiceworker = document.createElement("script");
      coiServiceworker.setAttribute("src", "coi-serviceworker.min.js");
      document.head.appendChild(coiServiceworker);
    }
  </script>
</head>

<body>
  <h1>qgis-wasm</h1>
  <h3>QGIS-WASM</h3>
  <div id="layers-control"></div>
  <div id="jsoneditor" style="width: 1200px; height: 400px"></div>
  <button id="savePro" style="width: 100px ;height:20p ">save properties</button>
  <button id="saveVector" style="width: 100px ;height:20p ">save vector</button>


  <br />
  <div class="tabset">
    <input type="radio" name="tabset" id="tab1" aria-controls="javascript" />
    <label for="tab1">JavaScript</label>
    <input type="radio" name="tabset" id="tab2" aria-controls="leaf" checked />
    <label for="tab2">leaf</label>

    <div id="status">
      <div id="status-message">Initializing...</div>
      <div id="status-progress">
        <div class="lds-ellipsis">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </div>

    <div id="project" style="visibility: hidden">
      <div>
        <label for="projects">Project:</label>
        <select name="projects" id="projects"></select>
      </div>
      <div>
        <button id="local-project">Add local project</button>
      </div>
    </div>

    <div class="tab-panels">
      <section id="javascript" class="tab-panel">
        <h2>JavaScript</h2>
        <div id="js-demo" class="demo">
          <canvas id="js-demo-canvas"></canvas>

          <div id="js-demo-controls">
            <button id="zoomin">zoom in</button>
            <button id="zoomout">zoom out</button>
            <button id="panleft">left</button>
            <button id="panright">right</button>
            <button id="panup">up</button>
            <button id="pandown">down</button>
          </div>
        </div>
      </section>
      <section id="leaf" class="tab-panel">
        <h2>leaflet</h2>
          <input type="text" id="layerType"></input>
          <button id="leafsave">save changes</button>
        <div id="js-demo" class="demo">
          <div id="map"></div>


        </div>


        <!--
        <p>
          <strong>qgis-js</strong> can be used with plain JavaScript and can
          therefore be integrated into any web application. The library
          provides also type information and integrates nicely with
          TypeScript.
        </p>
        <p>
          The example above shows how to use qgis-js with a simple canvas
          element and some rudimentary controls. The source code can be found
          in
          <a href="https://github.com/qgis/qgis-js/blob/main/sites/dev/src/js.ts" target="_blank"
            class="source">sites/dev/src/js.ts</a>
        </p>
        <p>
          The qgis-js API exposes also some QGIS core internals which can be
          used to build web GIS applications:
        </p>
        <div class="code">
          <pre style="margin: 0; line-height: 125%"><span style="color: #589632; font-weight: bold">const</span> rectangle <span style="color: #666666">=</span> <span style="color: #589632; font-weight: bold">new</span> api.Rectangle(<span style="color: #666666">100</span>, <span style="color: #666666">200</span>, <span style="color: #666666">150</span>, <span style="color: #666666">250</span>);
console.dir(rectangle);

rectangle.scale(<span style="color: #666666">5</span>);
console.dir(rectangle);

<span style="color: #589632; font-weight: bold">const</span> center <span style="color: #666666">=</span> rectangle.center();
console.dir(center);
</pre>
        </div>

        <p>
          <i>Please note that the API surface is fairly minimal at the moment
            and will be extended in the future.</i>
        </p>
        -->
      </section>
    </div>
  </div>

  <!--
  <a class="github-fork-ribbon" href="https://github.com/qgis/qgis-js" data-ribbon="Fork me on GitHub"
    title="Fork me on GitHub">Fork me on GitHub</a>
  -->

  <div id="wrapper"></div>

  <script type="module" src="src/index.ts"></script>
</body>

</html>
